<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Job Hunt - JobShield AI</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #001f3f; /* Navy Blue */
      --secondary-color: #ffffff; /* White */
      --accent-color: #0074D9; /* Bright Blue */
      --warning-color: #FF4136; /* Red for warnings */
      --success-color: #2ECC40; /* Green for success */
      --light-bg: #f8f9fa;
      --dark-text: #333;
      --light-text: #6c757d;
      --border-color: #dee2e6;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--light-bg);
      color: var(--dark-text);
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Header Styles */
    header {
      background-color: var(--primary-color);
      color: var(--secondary-color);
      padding: 1.5rem;
      text-align: center;
      position: relative;
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
    }

    .logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .logo i {
      color: var(--accent-color);
      font-size: 1.8rem;
    }

    nav {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 1rem;
    }

    nav a {
      color: var(--secondary-color);
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      transition: background-color 0.3s;
    }

    nav a:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }

    nav a.active {
      background-color: var(--accent-color);
    }

    /* Hero Section */
    .hero {
      background: linear-gradient(135deg, var(--primary-color) 0%, #003366 100%);
      color: var(--secondary-color);
      text-align: center;
      padding: 4rem 1rem;
      margin-bottom: 2rem;
      border-radius: 0 0 15px 15px;
    }

    .hero h1 {
      font-size: 2.8rem;
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.2rem;
      max-width: 800px;
      margin: 0 auto 2rem;
      color: rgba(255, 255, 255, 0.9);
    }

    /* Search Bar */
    .search-bar {
      display: flex;
      max-width: 700px;
      margin: 0 auto;
      background: var(--secondary-color);
      border-radius: 50px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .search-bar input {
      flex: 1;
      padding: 1.2rem 1.5rem;
      border: none;
      font-size: 1rem;
      outline: none;
    }

    .search-bar select {
      padding: 0 1.5rem;
      border: none;
      border-left: 1px solid var(--border-color);
      border-right: 1px solid var(--border-color);
      outline: none;
      appearance: none;
      background: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e") no-repeat;
      background-position: right 1rem center;
      background-size: 1em;
      padding-right: 3rem;
    }

    .search-btn {
      background: var(--accent-color);
      color: white;
      border: none;
      padding: 0 2rem;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .search-btn:hover {
      background: #0063b3;
    }

    /* Main Content Layout */
    .content-wrapper {
      display: flex;
      gap: 30px;
      margin-bottom: 3rem;
    }

    /* Filters Sidebar */
    .filters {
      flex: 0 0 280px;
      background: var(--secondary-color);
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      height: fit-content;
    }

    .filters h2 {
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--accent-color);
    }

    .filter-group {
      margin-bottom: 1.5rem;
    }

    .filter-group h3 {
      margin-bottom: 0.8rem;
      font-size: 1.1rem;
    }

    .filter-options {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .filter-options label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }

    .filter-options input[type="checkbox"] {
      width: 18px;
      height: 18px;
      accent-color: var(--accent-color);
    }

    .salary-range {
      margin-top: 0.5rem;
    }

    .salary-range input {
      width: 100%;
    }

    .salary-values {
      display: flex;
      justify-content: space-between;
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: var(--light-text);
    }

    /* Job Listings */
    .job-listings {
      flex: 1;
    }

    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .results-header h2 {
      font-size: 1.5rem;
    }

    .sort-by select {
      padding: 0.5rem;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      background: var(--secondary-color);
    }

    .job-card {
      background: var(--secondary-color);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s, box-shadow 0.3s;
      display: flex;
      gap: 20px;
    }

    .job-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .company-logo {
      flex: 0 0 60px;
      height: 60px;
      background: var(--light-bg);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: var(--accent-color);
    }

    .job-details {
      flex: 1;
    }

    .job-details h3 {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
      color: var(--primary-color);
    }

    .company-name {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--dark-text);
    }

    .job-meta {
      display: flex;
      gap: 15px;
      margin-bottom: 1rem;
      font-size: 0.9rem;
      color: var(--light-text);
    }

    .job-meta span {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .job-tags {
      display: flex;
      gap: 10px;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }

    .tag {
      background: rgba(0, 116, 217, 0.1);
      color: var(--accent-color);
      padding: 0.3rem 0.8rem;
      border-radius: 50px;
      font-size: 0.85rem;
    }

    .job-actions {
      display: flex;
      gap: 10px;
    }

    .apply-btn {
      background: var(--accent-color);
      color: white;
      border: none;
      padding: 0.6rem 1.5rem;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s;
    }

    .apply-btn:hover {
      background: #0063b3;
    }

    .save-btn {
      background: transparent;
      color: var(--light-text);
      border: 1px solid var(--border-color);
      padding: 0.6rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 5px;
      transition: all 0.3s;
    }

    .save-btn:hover {
      color: var(--accent-color);
      border-color: var(--accent-color);
    }

    .save-btn.saved {
      color: var(--accent-color);
      border-color: var(--accent-color);
    }

    /* Pagination */
    .pagination {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 2rem;
    }

    .pagination button {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid var(--border-color);
      background: var(--secondary-color);
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .pagination button:hover {
      border-color: var(--accent-color);
      color: var(--accent-color);
    }

    .pagination button.active {
      background: var(--accent-color);
      color: white;
      border-color: var(--accent-color);
    }

    /* AI Assistant Section */
    .ai-assistant-job {
      background: linear-gradient(135deg, rgba(0, 31, 63, 0.05) 0%, rgba(0, 116, 217, 0.05) 100%);
      border-radius: 12px;
      padding: 2rem;
      margin: 3rem 0;
      text-align: center;
      border: 1px solid rgba(0, 116, 217, 0.1);
    }

    .ai-assistant-job h2 {
      margin-bottom: 1rem;
      color: var(--primary-color);
    }

    .ai-assistant-job p {
      margin-bottom: 1.5rem;
      color: var(--light-text);
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Footer */
    footer {
      background-color: var(--primary-color);
      color: var(--secondary-color);
      text-align: center;
      padding: 2.5rem;
      margin-top: 3rem;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 1.5rem;
    }

    .footer-links a {
      color: var(--secondary-color);
      text-decoration: none;
    }

    .footer-links a:hover {
      text-decoration: underline;
    }

    /* Responsive Design */
    @media (max-width: 900px) {
      .content-wrapper {
        flex-direction: column;
      }
      
      .filters {
        flex: 1;
        margin-bottom: 2rem;
      }
    }

    @media (max-width: 768px) {
      .search-bar {
        flex-direction: column;
        border-radius: 12px;
      }
      
      .search-bar input,
      .search-bar select,
      .search-btn {
        width: 100%;
        border-radius: 0;
        border: none;
        border-bottom: 1px solid var(--border-color);
        padding: 1rem;
      }
      
      .search-bar select {
        background-position: right 1rem center;
      }
      
      .search-btn {
        border-bottom: none;
      }
      
      .job-card {
        flex-direction: column;
      }
      
      .company-logo {
        align-self: flex-start;
      }
      
      nav {
        flex-wrap: wrap;
      }
      
      .hero h1 {
        font-size: 2.2rem;
      }
    }
    
    /* AI Assistant Floating Button */
    .ai-assistant-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      z-index: 100;
      transition: all 0.3s;
    }

    .ai-assistant-btn:hover {
      transform: scale(1.1);
    }

    .ai-assistant-btn i {
      color: white;
      font-size: 1.5rem;
    }

    .ai-assistant-btn.listening {
      animation: pulse 1.5s infinite;
      background: linear-gradient(135deg, #FF4136 0%, #FF6B6B 100%);
    }

    /* AI Assistant Chat Interface */
    .ai-assistant-chat {
      position: fixed;
      bottom: 100px;
      right: 30px;
      width: 350px;
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      overflow: hidden;
      transform: translateY(20px);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s;
      z-index: 101;
    }

    .ai-assistant-chat.active {
      transform: translateY(0);
      opacity: 1;
      visibility: visible;
    }

    .chat-header {
      background-color: var(--primary-color);
      color: white;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chat-header h3 {
      margin: 0;
      font-size: 1rem;
    }

    .close-chat {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1.2rem;
    }

    .chat-messages {
      height: 300px;
      overflow-y: auto;
      padding: 1rem;
    }

    .message {
      margin-bottom: 1rem;
      padding: 0.8rem 1rem;
      border-radius: 18px;
      max-width: 80%;
      font-size: 0.9rem;
    }

    .ai-message {
      background-color: #f0f8ff;
      margin-right: auto;
      border-bottom-left-radius: 4px;
    }

    .user-message {
      background-color: var(--primary-color);
      color: white;
      margin-left: auto;
      border-bottom-right-radius: 4px;
    }

    .chat-input {
      display: flex;
      padding: 1rem;
      border-top: 1px solid #eee;
    }

    .chat-input input {
      flex: 1;
      padding: 0.8rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      margin-right: 10px;
    }

    .send-btn {
      background-color: var(--accent-color);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 0 1rem;
      cursor: pointer;
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(255, 65, 54, 0.7); }
      70% { box-shadow: 0 0 0 15px rgba(255, 65, 54, 0); }
      100% { box-shadow: 0 0 0 0 rgba(255, 65, 54, 0); }
    }

    @media (max-width: 768px) {
      .features {
        grid-template-columns: 1fr;
      }
      
      nav {
        flex-direction: column;
        align-items: center;
        gap: 10px;
      }
      
      .ai-assistant-chat {
        width: 90%;
        right: 5%;
      }
    }
    

    /* Animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .job-card {
      animation: fadeIn 0.5s ease-out;
    }
    
    /* Application Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    
    .modal-content {
      background-color: white;
      padding: 2rem;
      border-radius: 12px;
      width: 90%;
      max-width: 600px;
      max-height: 90vh;
      overflow-y: auto;
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }
    
    .close-modal {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
    }
    
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }
    
    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 0.8rem;
      border: 1px solid var(--border-color);
      border-radius: 4px;
    }
    
    .form-group textarea {
      min-height: 100px;
      resize: vertical;
    }
    
    .file-upload {
      border: 2px dashed var(--border-color);
      padding: 1.5rem;
      text-align: center;
      border-radius: 4px;
      cursor: pointer;
      transition: border-color 0.3s;
    }
    
    .file-upload:hover {
      border-color: var(--accent-color);
    }
    
    .file-upload i {
      font-size: 2rem;
      color: var(--accent-color);
      margin-bottom: 0.5rem;
    }
    
    /* Loading Spinner */
    .spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
      margin-right: 10px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Notification */
    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 10px 20px;
      border-radius: 4px;
      z-index: 1000;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      opacity: 0;
      transition: opacity 0.5s;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <i class="fas fa-shield-alt"></i>
      <h1>JobShield AI</h1>
    </div>
    <p>Your smart protection in the job market, powered by Spark ðŸ¤–</p>
    <nav>
      <a href="index.html">Home</a>
      <a href="CVbuilder.html">CV Builder</a>
      <a href="jobhunt.html" class="active">Job Hunt</a>
      <a href="Scamdetector.html">Scam Detector</a>
      <a href="feedback.html">Feedback</a>
    </nav>
  </header>

  <div class="container">
    <section class="hero">
      <h1>Find Your Dream Job Safely</h1>
      <p>Spark helps you discover legitimate opportunities while protecting you from job scams</p>
      
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Job title, keywords, or company">
        <select id="locationSelect">
          <option>All Locations</option>
          <option>New York</option>
          <option>San Francisco</option>
          <option>London</option>
          <option>Berlin</option>
          <option>Tokyo</option>
          <option>Remote</option>
        </select>
        <button class="search-btn" id="searchBtn"><i class="fas fa-search"></i> Search</button>
      </div>
    </section>

    <div class="content-wrapper">
      <aside class="filters">
        <h2>Filters</h2>
        
        <div class="filter-group">
          <h3>Job Type</h3>
          <div class="filter-options">
            <label><input type="checkbox" name="jobType" value="full-time" checked> Full-time</label>
            <label><input type="checkbox" name="jobType" value="part-time"> Part-time</label>
            <label><input type="checkbox" name="jobType" value="contract"> Contract</label>
            <label><input type="checkbox" name="jobType" value="internship"> Internship</label>
            <label><input type="checkbox" name="jobType" value="remote"> Remote</label>
          </div>
        </div>
        
        <div class="filter-group">
          <h3>Experience Level</h3>
          <div class="filter-options">
            <label><input type="checkbox" name="experience" value="entry"> Entry Level</label>
            <label><input type="checkbox" name="experience" value="mid" checked> Mid Level</label>
            <label><input type="checkbox" name="experience" value="senior"> Senior Level</label>
            <label><input type="checkbox" name="experience" value="executive"> Executive</label>
          </div>
        </div>
        
        <div class="filter-group">
          <h3>Salary Range</h3>
          <div class="salary-range">
            <input type="range" id="salaryRange" min="20" max="200" value="60" step="10">
            <div class="salary-values">
              <span>$20K</span>
              <span id="salaryValue">$60K</span>
              <span>$200K+</span>
            </div>
          </div>
        </div>
        
        <div class="filter-group">
          <h3>Industry</h3>
          <div class="filter-options">
            <label><input type="checkbox" name="industry" value="technology" checked> Technology</label>
            <label><input type="checkbox" name="industry" value="finance"> Finance</label>
            <label><input type="checkbox" name="industry" value="healthcare"> Healthcare</label>
            <label><input type="checkbox" name="industry" value="education"> Education</label>
            <label><input type="checkbox" name="industry" value="marketing"> Marketing</label>
          </div>
        </div>
        
        <button class="apply-btn" id="applyFiltersBtn" style="width: 100%">Apply Filters</button>
      </aside>

      <main class="job-listings">
        <div class="results-header">
          <h2 id="resultsCount">423 Jobs Found</h2>
          <div class="sort-by">
            <select id="sortSelect">
              <option value="relevance">Most Relevant</option>
              <option value="newest">Newest</option>
              <option value="salary">Highest Salary</option>
            </select>
          </div>
        </div>
        
        <div class="job-cards" id="jobCards">
          <!-- Job cards will be populated by JavaScript -->
        </div>
        
        <div class="pagination" id="pagination">
          <!-- Pagination will be populated by JavaScript -->
        </div>
      </main>
    </div>

    <section class="ai-assistant-job">
      <h2>Need Help With Your Job Search?</h2>
      <p>Spark, your AI career assistant, can help tailor your applications, optimize your resume for specific jobs, and even prepare you for interviews.</p>
      <button class="apply-btn" id="chatWithSparkBtn"><i class="fas fa-robot"></i> Chat with Spark</button>
    </section>
  </div>

  <!-- Application Modal -->
  <div class="modal" id="applicationModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modalJobTitle">Apply for Job</h2>
        <button class="close-modal" id="closeModal">&times;</button>
      </div>
      <form id="applicationForm">
        <div class="form-group">
          <label for="applicantName">Full Name</label>
          <input type="text" id="applicantName" required>
        </div>
        <div class="form-group">
          <label for="applicantEmail">Email</label>
          <input type="email" id="applicantEmail" required>
        </div>
        <div class="form-group">
          <label for="applicantPhone">Phone</label>
          <input type="tel" id="applicantPhone">
        </div>
        <div class="form-group">
          <label for="coverLetter">Cover Letter</label>
          <textarea id="coverLetter" placeholder="Tell us why you're a good fit for this position..."></textarea>
        </div>
        <div class="form-group">
          <label>Resume Upload</label>
          <div class="file-upload" id="resumeUpload">
            <i class="fas fa-cloud-upload-alt"></i>
            <p>Click to upload your resume (PDF, DOC, DOCX)</p>
          </div>
        </div>
        <button type="submit" class="apply-btn" id="submitApplicationBtn" style="width: 100%">
          <span id="submitText">Submit Application</span>
          <span class="spinner" id="submitSpinner" style="display: none;"></span>
        </button>
      </form>
    </div>
  </div>

  <footer>
    <div class="footer-links">
      <a href="#">Privacy Policy</a>
      <a href="#">Terms of Service</a>
      <a href="#">Contact Us</a>
      <a href="#">About</a>
    </div>
    <p>Â© 2025 JobShield AI. All rights reserved.</p>
    <p><small>Spark AI is designed to assist but cannot guarantee complete protection against all scams. Always use caution.</small></p>
  </footer>

  <!-- AI Assistant Floating Button -->
  <div class="ai-assistant-btn" id="aiAssistantBtn">
    <i class="fas fa-robot"></i>
  </div>

  <!-- AI Assistant Chat Interface -->
  <div class="ai-assistant-chat" id="aiAssistantChat">
    <div class="chat-header">
      <h3>Spark AI Assistant</h3>
      <button class="close-chat" id="closeChat">&times;</button>
    </div>
    <div class="chat-messages" id="chatMessages">
      <div class="message ai-message">
        Hi there! I'm Spark AI, your JobShield assistant. I can help you with:
        <ul>
          <li>Finding jobs that match your skills</li>
          <li>Tailoring your resume for specific positions</li>
          <li>Preparing for interviews</li>
          <li>Identifying potential job scams</li>
        </ul>
        How can I assist with your job search today?
      </div>
    </div>
    <div class="chat-input">
      <input type="text" id="chatInput" placeholder="Ask about jobs, resumes, or interviews...">
      <button class="send-btn" id="sendMessage"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>

  <script>
    // Job data
    const jobData = [
      {
        id: 1,
        title: "Senior UX Designer",
        company: "Google",
        location: "Mountain View, CA",
        salary: "$120K - $150K",
        type: "Full-time",
        posted: "2 days ago",
        tags: ["UX Design", "Figma", "User Research"],
        description: "Design user-centered experiences for Google's products. Work with cross-functional teams to create intuitive interfaces.",
        logo: "fab fa-google"
      },
      {
        id: 2,
        title: "Frontend Developer",
        company: "Microsoft",
        location: "Redmond, WA",
        salary: "$110K - $140K",
        type: "Full-time",
        posted: "1 day ago",
        tags: ["React", "TypeScript", "JavaScript"],
        description: "Build responsive web applications using modern frameworks. Collaborate with backend developers to implement features.",
        logo: "fab fa-microsoft"
      },
      {
        id: 3,
        title: "Cybersecurity Analyst",
        company: "CyberSecure Inc.",
        location: "Remote",
        salary: "$100K - $130K",
        type: "Full-time",
        posted: "3 days ago",
        tags: ["Security", "Network", "Compliance"],
        description: "Monitor security systems, analyze threats, and implement security measures to protect company data and infrastructure.",
        logo: "fas fa-shield-alt"
      },
      {
        id: 4,
        title: "Product Manager",
        company: "Apple",
        location: "Cupertino, CA",
        salary: "$130K - $160K",
        type: "Full-time",
        posted: "5 days ago",
        tags: ["Product Strategy", "Roadmapping", "Agile"],
        description: "Lead product development from conception to launch. Work with engineering, design, and marketing teams to deliver successful products.",
        logo: "fab fa-apple"
      },
      {
        id: 5,
        title: "Data Scientist",
        company: "Amazon",
        location: "Seattle, WA",
        salary: "$125K - $155K",
        type: "Full-time",
        posted: "4 days ago",
        tags: ["Python", "Machine Learning", "SQL"],
        description: "Analyze large datasets to derive business insights. Build predictive models to improve customer experience.",
        logo: "fab fa-amazon"
      },
      {
        id: 6,
        title: "DevOps Engineer",
        company: "Netflix",
        location: "Los Gatos, CA",
        salary: "$135K - $165K",
        type: "Full-time",
        posted: "6 days ago",
        tags: ["AWS", "Docker", "Kubernetes"],
        description: "Build and maintain scalable infrastructure. Implement CI/CD pipelines for efficient software delivery.",
        logo: "fas fa-film"
      }
    ];

    // DOM Elements
    const jobCardsContainer = document.getElementById('jobCards');
    const paginationContainer = document.getElementById('pagination');
    const searchInput = document.getElementById('searchInput');
    const locationSelect = document.getElementById('locationSelect');
    const searchBtn = document.getElementById('searchBtn');
    const applyFiltersBtn = document.getElementById('applyFiltersBtn');
    const sortSelect = document.getElementById('sortSelect');
    const salaryRange = document.getElementById('salaryRange');
    const salaryValue = document.getElementById('salaryValue');
    const resultsCount = document.getElementById('resultsCount');
    const applicationModal = document.getElementById('applicationModal');
    const closeModal = document.getElementById('closeModal');
    const applicationForm = document.getElementById('applicationForm');
    const modalJobTitle = document.getElementById('modalJobTitle');
    const submitApplicationBtn = document.getElementById('submitApplicationBtn');
    const submitText = document.getElementById('submitText');
    const submitSpinner = document.getElementById('submitSpinner');
    const chatWithSparkBtn = document.getElementById('chatWithSparkBtn');

    // Current state
    let currentPage = 1;
    const jobsPerPage = 4;
    let filteredJobs = [...jobData];
    let currentJobId = null;

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      renderJobCards();
      renderPagination();
      
      // Event listeners
      searchBtn.addEventListener('click', handleSearch);
      applyFiltersBtn.addEventListener('click', handleFilter);
      sortSelect.addEventListener('change', handleSort);
      salaryRange.addEventListener('input', updateSalaryValue);
      closeModal.addEventListener('click', closeApplicationModal);
      applicationForm.addEventListener('submit', handleApplicationSubmit);
      chatWithSparkBtn.addEventListener('click', openChat);
      
      // Allow Enter key to trigger search
      searchInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          handleSearch();
        }
      });
    });

    // Update salary value display
    function updateSalaryValue() {
      salaryValue.textContent = `$${salaryRange.value}K`;
    }

    // Handle search
    function handleSearch() {
      const searchTerm = searchInput.value.toLowerCase();
      const location = locationSelect.value;
      
      filteredJobs = jobData.filter(job => {
        const matchesSearch = job.title.toLowerCase().includes(searchTerm) || 
                             job.company.toLowerCase().includes(searchTerm) ||
                             job.tags.some(tag => tag.toLowerCase().includes(searchTerm));
        
        const matchesLocation = location === "All Locations" || 
                               job.location.includes(location);
        
        return matchesSearch && matchesLocation;
      });
      
      currentPage = 1;
      renderJobCards();
      renderPagination();
      updateResultsCount();
    }

    // Handle filter application
    function handleFilter() {
      const jobTypeCheckboxes = document.querySelectorAll('input[name="jobType"]:checked');
      const experienceCheckboxes = document.querySelectorAll('input[name="experience"]:checked');
      const industryCheckboxes = document.querySelectorAll('input[name="industry"]:checked');
      
      const selectedJobTypes = Array.from(jobTypeCheckboxes).map(cb => cb.value);
      const selectedExperiences = Array.from(experienceCheckboxes).map(cb => cb.value);
      const selectedIndustries = Array.from(industryCheckboxes).map(cb => cb.value);
      const minSalary = parseInt(salaryRange.value);
      
      filteredJobs = jobData.filter(job => {
        // In a real app, you would have these properties in your job data
        const matchesJobType = selectedJobTypes.length === 0 || selectedJobTypes.includes("full-time");
        const matchesExperience = selectedExperiences.length === 0 || selectedExperiences.includes("mid");
        const matchesIndustry = selectedIndustries.length === 0 || selectedIndustries.includes("technology");
        const matchesSalary = true; // In a real app, you would compare with job.salary
        
        return matchesJobType && matchesExperience && matchesIndustry && matchesSalary;
      });
      
      currentPage = 1;
      renderJobCards();
      renderPagination();
      updateResultsCount();
    }

    // Handle sorting
    function handleSort() {
      const sortBy = sortSelect.value;
      
      if (sortBy === 'newest') {
        filteredJobs.sort((a, b) => {
          // Simple sorting by ID for demo (in real app, use actual dates)
          return a.id - b.id;
        });
      } else if (sortBy === 'salary') {
        filteredJobs.sort((a, b) => {
          // Extract numeric values from salary strings for comparison
          const aSalary = parseInt(a.salary.replace(/[^0-9]/g, ''));
          const bSalary = parseInt(b.salary.replace(/[^0-9]/g, ''));
          return bSalary - aSalary;
        });
      } else {
        // Default relevance sorting (could be based on search match score)
        filteredJobs = [...filteredJobs];
      }
      
      renderJobCards();
    }

    // Render job cards
    function renderJobCards() {
      const startIndex = (currentPage - 1) * jobsPerPage;
      const endIndex = startIndex + jobsPerPage;
      const jobsToShow = filteredJobs.slice(startIndex, endIndex);
      
      jobCardsContainer.innerHTML = '';
      
      if (jobsToShow.length === 0) {
        jobCardsContainer.innerHTML = `
          <div class="job-card" style="text-align: center; padding: 3rem;">
            <h3>No jobs found</h3>
            <p>Try adjusting your search criteria or filters</p>
          </div>
        `;
        return;
      }
      
      jobsToShow.forEach(job => {
        const jobCard = document.createElement('div');
        jobCard.className = 'job-card';
        jobCard.innerHTML = `
          <div class="company-logo">
            <i class="${job.logo}"></i>
          </div>
          <div class="job-details">
            <h3>${job.title}</h3>
            <div class="company-name">${job.company}</div>
            <div class="job-meta">
              <span><i class="fas fa-map-marker-alt"></i> ${job.location}</span>
              <span><i class="fas fa-dollar-sign"></i> ${job.salary}</span>
              <span><i class="fas fa-briefcase"></i> ${job.type}</span>
              <span><i class="fas fa-clock"></i> ${job.posted}</span>
            </div>
            <div class="job-tags">
              ${job.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
            </div>
            <p>${job.description}</p>
          </div>
          <div class="job-actions">
            <button class="apply-btn" data-job-id="${job.id}">Apply Now</button>
            <button class="save-btn" data-job-id="${job.id}"><i class="far fa-bookmark"></i></button>
          </div>
        `;
        jobCardsContainer.appendChild(jobCard);
      });
      
      // Add event listeners to the new buttons
      document.querySelectorAll('.apply-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          openApplicationModal(this.getAttribute('data-job-id'));
        });
      });
      
      document.querySelectorAll('.save-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          toggleSaveJob(this.getAttribute('data-job-id'), this);
        });
      });
    }

    // Render pagination
    function renderPagination() {
      const totalPages = Math.ceil(filteredJobs.length / jobsPerPage);
      
      if (totalPages <= 1) {
        paginationContainer.innerHTML = '';
        return;
      }
      
      let paginationHTML = '';
      
      // Previous button
      paginationHTML += `<button ${currentPage === 1 ? 'disabled' : ''} id="prevPage">Â«</button>`;
      
      // Page numbers
      for (let i = 1; i <= totalPages; i++) {
        paginationHTML += `<button class="${i === currentPage ? 'active' : ''}" data-page="${i}">${i}</button>`;
      }
      
      // Next button
      paginationHTML += `<button ${currentPage === totalPages ? 'disabled' : ''} id="nextPage">Â»</button>`;
      
      paginationContainer.innerHTML = paginationHTML;
      
      // Add event listeners
      document.getElementById('prevPage')?.addEventListener('click', () => changePage(currentPage - 1));
      document.getElementById('nextPage')?.addEventListener('click', () => changePage(currentPage + 1));
      
      document.querySelectorAll('.pagination button[data-page]').forEach(btn => {
        btn.addEventListener('click', function() {
          changePage(parseInt(this.getAttribute('data-page')));
        });
      });
    }

    // Change page
    function changePage(page) {
      currentPage = page;
      renderJobCards();
      renderPagination();
    }

    // Update results count
    function updateResultsCount() {
      resultsCount.textContent = `${filteredJobs.length} Jobs Found`;
    }

    // Toggle save job
    function toggleSaveJob(jobId, button) {
      button.classList.toggle('saved');
      button.innerHTML = button.classList.contains('saved') ? 
        '<i class="fas fa-bookmark"></i>' : 
        '<i class="far fa-bookmark"></i>';
      
      const job = jobData.find(j => j.id == jobId);
      const message = button.classList.contains('saved') ? 
        `Saved job: ${job.title}` : 
        `Removed job: ${job.title}`;
      
      showNotification(message);
    }

    // Open application modal
    function openApplicationModal(jobId) {
      currentJobId = jobId;
      const job = jobData.find(j => j.id == jobId);
      modalJobTitle.textContent = `Apply for ${job.title} at ${job.company}`;
      applicationModal.style.display = 'flex';
    }

    // Close application modal
    function closeApplicationModal() {
      applicationModal.style.display = 'none';
      applicationForm.reset();
    }

    // Handle application submission
    function handleApplicationSubmit(e) {
      e.preventDefault();
      
      // Show loading state
      submitApplicationBtn.disabled = true;
      submitText.textContent = 'Submitting...';
      submitSpinner.style.display = 'inline-block';
      
      // Simulate API call
      setTimeout(() => {
        const job = jobData.find(j => j.id == currentJobId);
        
        // Show success message
        showNotification(`Application submitted for ${job.title} at ${job.company}`);
        
        // Reset form and close modal
        submitApplicationBtn.disabled = false;
        submitText.textContent = 'Submit Application';
        submitSpinner.style.display = 'none';
        closeApplicationModal();
      }, 2000);
    }

    // Show notification
    function showNotification(message) {
      const notification = document.createElement('div');
      notification.className = 'notification';
      notification.textContent = message;
      document.body.appendChild(notification);
      
      // Animate in
      setTimeout(() => {
        notification.style.opacity = '1';
      }, 10);
      
      // Remove after 3 seconds
      setTimeout(() => {
        notification.style.opacity = '0';
        setTimeout(() => {
          notification.remove();
        }, 500);
      }, 3000);
    }

    // Open chat with Spark
    function openChat() {
      aiAssistantChat.classList.add('active');
    }

    // AI Assistant Toggle
    const aiAssistantBtn = document.getElementById('aiAssistantBtn');
    const aiAssistantChat = document.getElementById('aiAssistantChat');
    const closeChat = document.getElementById('closeChat');

    aiAssistantBtn.addEventListener('click', function() {
      aiAssistantChat.classList.toggle('active');
    });

    closeChat.addEventListener('click', function() {
      aiAssistantChat.classList.remove('active');
    });

    // Voice Recognition
    let recognition;
    try {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      recognition = new SpeechRecognition();
      recognition.continuous = false;
      recognition.lang = 'en-US';

      recognition.onstart = function() {
        aiAssistantBtn.classList.add('listening');
      };

      recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript;
        addMessage(transcript, 'user');
        respondToMessage(transcript);
        aiAssistantBtn.classList.remove('listening');
      };

      recognition.onerror = function(event) {
        console.error('Speech recognition error', event.error);
        aiAssistantBtn.classList.remove('listening');
        addMessage("Sorry, I didn't catch that. Please try again.", 'ai');
      };

      aiAssistantBtn.addEventListener('click', function() {
        if (aiAssistantBtn.classList.contains('listening')) {
          recognition.stop();
          aiAssistantBtn.classList.remove('listening');
        } else if (aiAssistantChat.classList.contains('active')) {
          recognition.start();
        }
      });
    } catch(e) {
      console.log('Speech recognition not supported');
    }

    // Chat functionality
    const chatMessages = document.getElementById('chatMessages');
    const chatInput = document.getElementById('chatInput');
    const sendMessageBtn = document.getElementById('sendMessage');

    function addMessage(text, sender) {
      const messageDiv = document.createElement('div');
      messageDiv.classList.add('message', sender + '-message');
      messageDiv.textContent = text;
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function respondToMessage(message) {
      let response = "";
      const lowerMessage = message.toLowerCase();
      
      if (lowerMessage.includes('job') || lowerMessage.includes('position') || lowerMessage.includes('opportunity')) {
        response = "I can help you find jobs that match your skills. What type of role are you looking for? You can use the search filters to narrow down your options.";
      } else if (lowerMessage.includes('resume') || lowerMessage.includes('cv')) {
        response = "Our CV Builder can help you create a professional resume tailored to specific jobs. Would you like me to open it for you?";
      } else if (lowerMessage.includes('interview')) {
        response = "I can help you prepare for interviews! Common questions include: 'Tell me about yourself', 'Why do you want this job?', and 'What are your strengths?'. Would you like to practice any specific questions?";
      } else if (lowerMessage.includes('scam') || lowerMessage.includes('fake')) {
        response = "Always be cautious of job offers that ask for money upfront, have poor grammar, or pressure you to act quickly. You can use our Scam Detector to analyze suspicious job postings.";
      } else if (lowerMessage.includes('salary') || lowerMessage.includes('pay')) {
        response = "Salaries vary by role, experience, and location. For the jobs you're viewing, I can help you understand typical salary ranges. Would you like me to filter jobs by salary range?";
      } else {
        response = "I'm here to help with your job search! You can ask me about finding jobs, resume tips, interview preparation, or identifying potential scams.";
      }
      
      setTimeout(() => {
        addMessage(response, 'ai');
      }, 1000);
    }

    sendMessageBtn.addEventListener('click', function() {
      if (chatInput.value.trim() !== '') {
        addMessage(chatInput.value, 'user');
        respondToMessage(chatInput.value);
        chatInput.value = '';
      }
    });

    chatInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter' && chatInput.value.trim() !== '') {
        addMessage(chatInput.value, 'user');
        respondToMessage(chatInput.value);
        chatInput.value = '';
      }
    });
  </script>
</body>
</html>
